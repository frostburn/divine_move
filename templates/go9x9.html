{% extends "base.html" %}
{% load staticfiles %}
{% block title %}Board Explorer 9&times;9{% endblock %}
{% block extra_css %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/go.css' %}">
{% endblock %}
{% block content %}
    <div class="row">
        <div class="col-md-6">
            <div class="row">
                <h2 class="text-center">Board Explorer 9&times;9 Beta</h2>
                <div id="board" class="noselect"></div>
            </div>
            <div class="row game-buttons center-block text-center">
                <a href="{% url 'go9x9_empty' %}" class="btn btn-default">
                    <span class="glyphicon glyphicon-step-backward" aria-hidden="true"></span>
                </a>
                <button id="undo" class="btn btn-default" disabled>
                    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                </button>
                <button id="pass" class="btn btn-default">pass</button>
                <button id="next" class="btn btn-default">
                    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                </button>
                <button id="end" class="btn btn-default">
                    <span class="glyphicon glyphicon-step-forward" aria-hidden="true"></span>
                </button>
            </div>
        </div>
        <div class="col-md-6">
            <div class="row game-buttons">
                <h4>Vote on the last move</h4>
                <div class="btn-group btn-group-justified votes" data-toggle="buttons">
                    <label class="btn btn-success btn-great-success vote" disabled>
                        <input type="radio" id="ideal" name="vote" value="ideal" autocomplete="off"></input>ideal<span></span>
                    </label>
                    <label class="btn btn-success vote" disabled>
                        <input type="radio" id="good" name="vote" value="good" autocomplete="off"></input>good<span></span>
                    </label>
                    <label class="btn btn-warning vote" disabled>
                        <input type="radio" id="trick" name="vote" value="trick" autocomplete="off"></input>trick<span></span>
                    </label>
                    <label class="btn btn-danger vote" disabled>
                        <input type="radio" id="bad" name="vote" value="bad" autocomplete="off"></input>bad<span></span>
                    </label>
                    <label class="btn btn-primary vote" disabled>
                        <input type="radio" id="question" name="vote" value="question" autocomplete="off"></input>question<span></span>
                    </label>
                </div>
            </div>
            <div id="tree_row" class="row">
                <p>Tree score: <span id="score"></span></p>
            </div>
            <div class="row">
              <!-- Nav tabs -->
              <ul class="nav nav-tabs" role="tablist">
                <li role="presentation" class="active"><a href="#stats_tab" aria-controls="stats_tab" role="tab" data-toggle="tab">Statistics</a></li>
                <li role="presentation"><a href="#game_tab" aria-controls="game_tab" role="tab" data-toggle="tab">Game Information</a></li>
                <li role="presentation"><a href="#position_tab" aria-controls="position_tab" role="tab" data-toggle="tab">Comments</a></li>
                {% comment %}
                    <li role="presentation" class="disabled"><a href="#transition_tab" aria-controls="transition_tab" role="tab" data-toggle="tab">Move Comments</a></li>
                {% endcomment %}
                <li role="presentation"><a href="#tools_tab" aria-controls="tools_tab" role="tab" data-toggle="tab">Tools</a></li>
              </ul>

              <!-- Tab panes -->
              <div class="tab-content">
                <div role="tabpanel" class="tab-pane active" id="stats_tab">
                    <h4>Statistics for the next move</h4>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Move</th>
                                <th>Black wins</th>
                                <th>White wins</th>
                                <th>Draws</th>
                                <th>Tree score</th>
                            </tr>
                        </thead>
                        <tbody id="win_statistics"></tbody>
                    </table>
                    <h5>Move likelyhoods</h5>
                    <table class="table table-bordered">
                        <tbody id="statistics"></tbody>
                    </table>
                </div>
                <div role="tabpanel" class="tab-pane" id="game_tab">
                    <h4>Game information</h4>
                    <button id="previous_game" class="btn btn-primary" disabled>
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                    </button>
                    <button id="next_game" class="btn btn-primary" disabled>
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                    </button>
                    <span id="game_number">0</span> / <span id="total_games">0</span>
                    <a href="{% url 'go9x9_empty' %}" class="btn btn-default">
                        <span class="glyphicon glyphicon-step-backward" aria-hidden="true"></span>
                    </a>
                    <button id="game_previous" class="btn btn-default" disabled>
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                    </button>
                    <button id="game_next" class="btn btn-default" disabled>
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                    </button>
                    <button id="game_end" class="btn btn-default" disabled>
                        <span class="glyphicon glyphicon-step-forward" aria-hidden="true"></span>
                    </button>
                    <div class="pull-right">
                        <div class="form-inline">
                            <div class="form-group">
                                <label for="sort">Sort by</label>
                                <select id="sort" class="form-control">
                                    <option value="rank">Player rank</option>
                                    <option value="popularity">Popularity</option>
                                    <option value="date">Date added</option>
                                </select>
                            </div>
                        </div>
                        <a id="game_upvote" href="#" class="no-underline">
                            <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                        </a>
                        <a id="game_downvote" href="#" class="no-underline">
                            <span class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span>
                        </a>
                        <small><span id="game_points">0</span> points</small>
                    </div>
                    <table class="table table-striped">
                        <tbody id="game_info"></tbody>
                    </table>
                </div>
                <div role="tabpanel" class="tab-pane" id="position_tab">
                    <h4>Comments on the position</h4>
                    <div>
                        <form id="comment_form">
                            <div class="form-group">
                                <textarea id="comment_box" rows="2" class="form-control" placeholder="Type new comments here."></textarea>
                            </div>
                            <button id="comment_submit" type="submit" class="btn btn-default hidden">Add Comment</button>
                        </form>
                    </div>
                    <div id="messages" class="messages">
                    </div>
                </div>
                {% comment %}
                    <div role="tabpanel" class="tab-pane" id="transition_tab">
                        <h4>Comments on the last move</h4>
                    </div>
                {% endcomment %}
                <div role="tabpanel" class="tab-pane" id="tools_tab">
                    <h4>Tools</h4>
                    <a id="permalink" href="{% url 'go9x9' code %}">Permalink to position</a>
                    <div class="game-buttons">
                        <p>Add the score of the position to the tree after two consecutive passes.</p>
                        <button id="resolve" class="btn btn-default" disabled="">Resolve position</button>
                    </div>
                    {% comment %}
                        <form method="POST" class="game-buttons form-inline" enctype="multipart/form-data">
                            {% csrf_token %}
                            <div class="form-group">
                                <label for="upload_sgf">Upload SGF</label>
                                <input type="file" id="upload_sgf" name="sgf">
                                <p class="help-block">Add a game to the collection.</p>
                            </div>
                            <button type="submit" class="btn btn-default">Upload</button>
                        </form>
                    {% endcomment %}
                </div>
              </div>
            </div>
            <div class="row game-buttons">
                <p id="status"></p>
            </div>
        </div>
    </div>
{% endblock %}
{% block extra_js %}
    <script type="text/javascript">
        window.link_url = "{% url 'go9x9' code %}";
        window.json_url = "{% url 'go9x9_json' code %}";
        window.end_json_url = "{% url 'go9x9_end_json' code %}";
        window.game_json_url = "{% url 'go9x9_game_json' code 1 %}";
    </script>
    <script type="text/javascript" src="{% static 'js/go9x9.js' %}"></script>
{% endblock %}
